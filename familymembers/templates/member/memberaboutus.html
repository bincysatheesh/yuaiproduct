{% extends 'member/customerbase.html' %}
{% load static %}
{% block content %}

<style>
  /* Keep all your original styles from the working page */
  table {
    width: 100%;
  }
  .customers .card-body .table-responsive {
    max-width: 100%;
    overflow-x: auto;
  }
  .customers .card-body {
    max-width: 350px;
  }
  table tbody tr:hover {
    background-color: #f5f5f5;
  }
  .link-container {
    display: inline-block;
    padding: 1px 2px;
    background-color: #3d6a95;
    color: #fff;
    text-decoration: none;
    border-radius: 4px;
    transition: background-color 0.3s;
  }
  .link-container:hover {
    background-color: #2b3348;
  }
  .recent-grid {
    margin-top: 3.5rem;
    display: grid;
    grid-gap: 2rem;
    grid-template-columns: 75% auto;
  }
  .paragraph-wrapper {
    margin-top: 20px;
    line-height: 2.5;
  }
  .paragraph-wrapper p {
    text-align: justify;
    padding: 10px;
    background-color: #f5f5f5;
    border-radius: 5px;
    overflow-y: auto;
    max-height: 300px;
    transition: transform 0.1s;
  }
  .paragraph-zoom {
    transition: transform 0.2s;
  }
  .paragraph-zoom:hover {
    transform: scale(1.01);
  }
  .card-single:hover {
    transform: scale(1.05);
  }
  .cards {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
  }
  .card-single {
    flex: 1 1 200px;
    max-width: 300px; 
    background-color: #ffffff;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
  }
  .sidebar-menu ul li {
    list-style: none;
    transition: transform 0.3s ease;
  }
  .sidebar-menu ul li:hover {
    transform: scale(1.05);
  }
  .sidebar-menu ul li a:hover {
    background-color:#ffffff;
    color:#2b3348;
  }
  .sidebar-menu ul li a[title]:hover:after {
    content: attr(title);
    display: block;
    position: absolute;
    background-color: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 14px;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
  }

  /* Add these new styles for the About page content */
  .about-content-container {
    padding: 20px;
  }
  .about-hero {
    background: linear-gradient(135deg, #3d6a95 0%, #2b3348 100%);
    padding: 40px 20px;
    text-align: center;
    color: white;
    border-radius: 8px;
    margin-bottom: 30px;
    position: relative;
  }
  .about-hero h1 {
    font-size: 2.2rem;
    margin-bottom: 10px;
  }
  .about-logo {
    text-align: center;
    margin: -30px auto 20px;
  }
  .about-logo img {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    border: 4px solid white;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }
  .about-text {
    background: white;
    padding: 25px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  }
  .about-text p {
    margin-bottom: 15px;
    line-height: 1.7;
  }
</style>

<input type="checkbox" id="nav-toggle">
<div class="sidebar"> 
  <div class="sidebar-brand">
    <h2><span class="las la-user-circle"></span><span style="text-transform:capitalize;">{{ufn}}&nbsp;{{uln}}</span></h2>
  </div>
  {% if owner_details and membership_detail %}
  <div class="sidebar-menu">
    <ul>
      <li>
        <a href="{% url 'customerindex' %}"><span class="fas fa-home"></span>
        <span>Home</span></a>
      </li>
      <li>
        <a href="{% url 'memberaboutus' %}" class="active"><span class="fas fa-info-circle"></span>
        <span>About Us</span></a>
      </li>
      <li>
        <a href="{% url 'committemembers' %}"><span class="las la-users"></span>
        <span>Committee Members&nbsp;({{ccount}})</span></a>
      </li>
      <li>
        <a href="{% url 'members_view1' %}"><span class="las la-home"></span>
        <span>Families&nbsp;({{uacount}})</span></a>
      </li>
      <li>
        <a href="{% url 'birthdaydetails' %}"><span class="fas fa-birthday-cake"></span>
        <span>Birthday</span></a>
      </li>
      <li>
        <a href="{% url 'bloodgroup' %}"><span class="fas fa-tint" style="color: red;"></span>
        <span>Blood Group</span></a>
      </li>
      <li>
        <a href="{% url 'payments1' %}">
        <span class="fas fa-id-badge"></span>
        <span>Membership</span></a>
      </li>
      <li>
        <a href="{% url 'cevents' %}"><span class="fa fa-bell"></span>
        <span>Events&nbsp;({{teventscount}})</span></a>
      </li>
    </ul>
  </div>
  {% else %}
  <div class="sidebar-menu">
    <ul>
      <li>
        <a href="{% url 'customerindex' %}" class="active"><span class="fas fa-home"></span>
        <span>Home</span></a>
      </li>
      <li title="Your account has been blocked. Please complete your registration and renew your membership">
        <a href=""><span class="fas fa-info-circle"></span>
        <span>About Us</span></a>
      </li>
      <li title="Your account has been blocked. Please complete your registration and renew your membership">
        <a href=""><span class="las la-users"></span>
        <span>Committee Members&nbsp;({{ccount}})</span></a>
      </li>
      <li title="Your account has been blocked. Please complete your registration and renew your membership">
        <a href=""><span class="las la-home"></span>
        <span>Families&nbsp;({{uacount}})</span></a>
      </li>
      <li title="Your account has been blocked. Please complete your registration and renew your membership">
        <a href=""><span class="fas fa-birthday-cake"></span>
        <span>Birthday</span></a>
      </li>
      <li title="Your account has been blocked. Please complete your registration and renew your membership">
        <a href=""><span class="fas fa-tint" style="color: red;"></span>
        <span>Blood Group</span></a>
      </li>
      <li title="Your account has been blocked. Please complete your registration and renew your membership">
        <a href="">
        <span class="fas fa-id-badge"></span>
        <span>Membership</span></a>
      </li>
      <li title="Your account has been blocked. Please complete your registration and renew your membership">
        <a href=""><span class="fa fa-bell"></span>
        <span>Events&nbsp;({{teventscount}})</span></a>
      </li>
    </ul>
  </div>
  {% endif %}
</div>

<div class="main-content">
     <header>
           
        <h2> 
          <label for="nav-toggle">
            <span class="las la-bars"></span>
          </label>Welcome To<span style="color: #3d6a95;text-transform: uppercase;">  {{fn}}     
      &nbsp;<span class="fas fa-users"></span></span>
        </h2>
      <!-- Add this div to contain the search input -->
      <div class="search-wrapper">
        <form method="GET" action="{% url 'customerindex' %}">
            <span class="las la-search"></span>
            <input type="search" id="searchInput" name="q" placeholder="Search here" value="{{ request.GET.q|default_if_none:'' }}"/>
        </form>
      </div>

        <div class="user-wrapper">
          <img src="{% static 'img/logo.jpg' %}" width="60px" height="60px" alt="">
        
          <div>
            <!-- <h4>ZMCA</h4> -->
            <h4>        <a href="{% url 'logout' %}" style="font-size: 16px;"> <i class="fa-solid fa-right-from-bracket"></i></a>
            </h4>
            <small>{{email}}</small>

          </div>

          
        </div>

      </header>

  <main>
    <div class="about-content-container">
      <!-- Hero Section -->
      <div class="about-hero">
        <h1>About ZMCA</h1>
        <p>Learn about our history and mission</p>
      </div>

      <!-- Logo -->
      <div class="about-logo">
        <img src="{% static 'img/logo.jpg' %}" alt="ZMCA Logo">
      </div>

      <!-- Content Section -->
      <div class="about-text">
        <h2>Our Story</h2>
        <p>
          Founded in 1980, the Zambia Malayalee Cultural Association (ZMCA) has been a cornerstone of cultural preservation 
          and community service for Malayalees in Zambia. Registered under the Societies Act of Zambia, our organization 
          serves as a bridge between our rich Kerala heritage and our Zambian home.
        </p>
        
        <h3>Our Mission</h3>
        <p>
          To preserve and promote Malayalee culture while fostering unity and mutual support among members. We organize 
          cultural events, celebrate festivals, and provide a platform for community members to connect and grow together.
        </p>
        
        <h3>Membership Benefits</h3>
        <p>
          As a ZMCA member, you'll receive notifications about all our programs and have access to contact details of 
          other members in our community. We encourage active participation and value your feedback to help us improve.
        </p>
      </div>
    </div>
  </main>
</div>

<!-- JavaScript from your working page -->
<script>
  // Get the search input element
  const searchInput = document.getElementById('searchInput');

  // Add an event listener for the 'input' event to detect changes in the input field
  searchInput.addEventListener('input', function() {
      // Get the value entered by the user
      const searchText = this.value.trim().toLowerCase();

      // Get the table within the table-responsive portion
      const table = document.querySelector('.table-responsive table');

      // Get all the rows in the table body
      const rows = table.querySelectorAll('tbody tr');

      // Loop through each row
      rows.forEach(row => {
          // Get the text content of each row
          const rowText = row.textContent.toLowerCase();

          // If the row contains the search text, display it, otherwise hide it
          if (rowText.includes(searchText)) {
              row.style.display = '';
          } else {
              row.style.display = 'none';
          }
      });
  });

  // Ensure sidebar toggle works
  document.addEventListener('DOMContentLoaded', function() {
      const navToggle = document.getElementById('nav-toggle');
      const sidebar = document.querySelector('.sidebar');
      
      // Close sidebar when clicking outside on mobile
      document.addEventListener('click', function(e) {
          if(window.innerWidth <= 768 && 
             !sidebar.contains(e.target) && 
             e.target !== document.querySelector('label[for="nav-toggle"]')) {
              navToggle.checked = false;
          }
      });
  });
</script>

{% endblock %}