{% extends 'member/customerbase.html' %}

{% load static %}
{% block content %}    

<style>  


  /* Style for the link container */
  .link-container {
    display: inline-block;
    padding: 1px 2px;
    background-color: #3d6a95;
    color: #fff;
    text-decoration: none;
    border-radius: 4px;
    transition: background-color 0.3s;
  }
  
  .link-container:hover {
    background-color: #2b3348;
  }
  /* Body styles */
  body {

   
      font-family: poppins, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f1f1f1;
      /* overflow: hidden; */
       /* Hide scrollbar */
  }
  /* Container styles */
  .recent-grid {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 50vh;
  }
  
  .projects {
      width: 100%;
      max-width: 600px;
  }
  
  .card {
      width: 100%;
      background-color: #fff;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      
      /* Center content horizontally */
    
  }
  

  .card-header {
      background-color: #3d6a95;
      padding: 20px;
      color: #fff;
  }
  
  .card-header h3 {
      margin: 0;
  }
  
  .form-container {
      padding: 20px;
  }
  
  /* Form styles */
  form {
      display: grid;
      gap: 10px;
      height: auto;
  }
  
  label {
      font-weight: bold;
  }
  
  input[type="text"],
  textarea,select,
  button,
  input[type="file"] {
    text-transform: uppercase;
      width: calc(100% - 20px); /* Adjust width to allow for padding */
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
  }
  
  textarea {
      resize: vertical;
  }
  
  button {
      background-color: #3d6a95;
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 10px 20px;
      cursor: pointer;
      transition: background-color 0.3s;
  }
  
  button:hover {
      background-color: #2e5275;
  }
  
  /* Responsive styles */
  @media screen and (max-width: 600px) {
      .card {
          max-width: 90%; /* Adjust max-width for smaller screens */
      }
  }
  
          /* CSS for table */
          table {
              width: 100%;
              border-collapse: collapse;
          }
  
          th, td {
              padding: 8px;
              text-align: left;
              border-bottom: 1px solid #ddd;
          }
  
          th {
              background-color: #f2f2f2;
          }
  
          img {
              max-width: 100px;
              max-height: 100px;
          }
          .gallery-items {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); /* Adjust minmax value as needed */
      gap: 10px;
  }
  
  .gallery-item {
      background-color: #fff;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      padding-left: 10%;
  }
  
  .gallery-item img {
      max-width: 100%;
      height: auto;
      transition: transform 0.3s ease-in-out; /* Add transition for smooth effect */
  }
  
  .gallery-item img:hover {
      transform: scale(1.1); /* Scale the image by 10% on hover */
  }
   /* Styles for the search input wrapper */
   /* Styles for the search input wrapper */
   .search-wrapper {
      margin-bottom: 20px;
      display: flex; /* Use flexbox */
      align-items: center; /* Align items vertically */
      justify-content: center; /* Center items horizontally */
    }
  
    /* Styles for the search icon */
    .search-icon {
      margin-right: 10px; /* Add margin for spacing */
    }
  
   /* Styles for the search input */
   .search-wrapper {
      margin-bottom: 20px;
      display: flex; /* Use flexbox */
      align-items: center; /* Align items vertically */
      justify-content: center; /* Center items horizontally */
      max-width: 400px; /* Set the maximum width */
      width: 90%; /* Set the desired width */
      margin: 0 auto; /* Center the wrapper horizontally */
  }
  .uppercase-text {
              text-transform: uppercase;
              font-weight: bold;
          }
  
  
  /* CSS for the search input */
  /* CSS */
.actions {
    display: flex;
    justify-content: center; /* Center content horizontally */
}

.button-container {
    display: flex;
}

.button-container > * {
    margin-right: 5px; /* Add some spacing between the buttons */
}

/* ----li item zoom hover--- */
/* CSS for sidebar list items */
.sidebar-menu ul li {
    list-style: none; /* Remove default list styles */
    transition: transform 0.3s ease; /* Add transition effect for zoom */
}

/* Zoom effect on hover */
.sidebar-menu ul li:hover {
    transform: scale(1.05); /* Increase size on hover */
}


/* Hover effect */
.sidebar-menu ul li a:hover {
  background-color:#ffffff;
  color:#2b3348;

}

/* Style for the tooltip */
.sidebar-menu ul li a[title]:hover:after {
  content: attr(title); /* Display the title attribute as a tooltip */
  display: block;
  position: absolute;
  background-color: rgba(0, 0, 0, 0.7); /* Background color for the tooltip */
  color: #fff;
  padding: 5px 10px;
  border-radius: 4px;
  font-size: 14px;
  top: 100%;
  left: 50%;
  transform: translateX(-50%); /* Center the tooltip horizontally */
}

.gallery-item {
        transition: transform 0.3s;
    }

    .gallery-item:hover {
        transform: scale(1.05);
    }

  
  </style>
      
    <input type="checkbox" id="nav-toggle">
    <div class="sidebar"> 
      <div class="sidebar-brand">
        <h2><span class="las la-user-circle"></span><span style="text-transform: uppercase;">{{ufn}}&nbsp;{{uln}}</span></h2>

      </div>
      <div class="sidebar-menu">
        <ul>
          <li>
            <a href="{% url 'customerindex' %}" class="active"><span class="fas fa-home"></span>
            <span>Home</span></a>
          </li>
          <!-- <li>
            <a href="{% url 'customerindex' %}"><span class="fas fa-home"></span>
            <span>Home</span></a>
          </li> -->
          <li>
            <a href="{% url 'memberaboutus' %}"><span class="fas fa-info-circle"></span>

            <span>About Us</span></a>
          </li>
          <li>
            <a href="{% url 'committemembers' %}"><span class="las la-users"></span>
            <span>Committe Members&nbsp;({{ccount}})</span></a>
          </li>
          <li>
            <a href="{% url 'members_view1' %}"><span class="las la-home"></span>
            <span>Families&nbsp;({{uacount}})</span></a>
          </li>
          <li>
            <a href="{% url 'birthdaydetails' %}"><span class="fas fa-birthday-cake"></span>
            <span>Birthday</span></a>
          </li>
          <li>
            <a href="{% url 'bloodgroup' %}"><span class="fas fa-tint" style="color: red;"></span>
            <span>Blood Group</span></a>
          </li>

          <li>
            <a href="{% url 'payments1' %}">
            <span class="fas fa-id-badge"></span>
            <span>Membership</span></a>
          </li>

          <li>
            <!-- <a href=""><span class="las la-question-circle"></span>
            <span>Enqueries</span></a> -->
            <!-- <ul class="submenu">
              <li></li>
              <li><a href="{% url 'allenquiry_list' %}"><span class="fas fa-envelope"></span><span>(All)</span></a></li>            
          
           </ul> -->
          </li>
          <!-- <li>
            <a href=""><span class="las la-user-plus"></span>
            <span>Registration</span></a>
            <ul class="submenu">
              <li></li>
              <li><a href="#"><span class="fa fa-gallery" style="color: #fff;"></span>

                Gallery</a></li>
              <li><a href="#">Submenu Item 2</a></li>
          
           </ul>
          </li> -->
          <!-- <li>
            <a href=""><span class="las la-blog"></span>
            <span>Blog</span></a>
          </li> -->
          <li>
            <a href="{% url 'cevents' %}"><span class="fa fa-bell"></span>
            <span>Events&nbsp;({{teventscount}})</span></a>
          </li>
        </ul>
      </div>
     
      </div>
    </div>
    <!-- --------end link---------- -->
    <div class="main-content">
      <header>
           
        <h2> 
            <label for="nav-toggle">
              <span class="las la-bars"></span>
            </label>Welcome To<span style="color: #3d6a95;text-transform: uppercase;">  {{fn}}     
        &nbsp;<span class="fas fa-users"></span></span>
          </h2>
      <!-- Add this div to contain the search input -->
      <div class="search-wrapper">
        <span class="las la-search"></span>
    
        <form method="GET" action="{% url 'payments1'  %}">
            <input type="search" id="searchInput"  name="q" placeholder="Search here" value="{{ request.GET.q|default_if_none:'' }}"/>
        </form>
      </div>
        <div class="user-wrapper">
          <img src="{% static 'img/logo.jpg' %}" width="60px" height="60px" alt="">
        
          <div>
            <!-- <h4>ZMCA</h4> -->
            <h4>        <a href="{% url 'logout' %}" style="font-size: 16px;"> <i class="fa-solid fa-right-from-bracket"></i></a>
            </h4>
            <small>{{email}}</small>

          </div>

          
        </div>

      </header>
      <!-- ----------end header---------- -->
 
      <main>
        <br><br><br>
       
       
        <div class="card" style="width: 100%;">
            <div class="card-header">
                <h2><span class="fas fa-id-badge"></span> <span style="text-transform: uppercase;">{{ufn}}&nbsp;{{uln}} &nbsp;MEMBERSHIP DETAILS</span></h2>
                <button class="btn btn-primary" onclick="window.location.href='{% url 'customerindex' %}'" style="flex-grow: 0.1; width: auto;font-weight: bold;"><span></span><span class="fas fa-arrow-left"></span>&nbsp;&nbsp;BACK&nbsp;</button>

            </div>
        
            <div class="gallery-items">
            
                {% for item in page_obj %}
               <!-- Display from_date and to_date corresponding to the membership_year -->
   

                <div class="gallery-item"  style="background: linear-gradient(to bottom, #3d6a95, #ffffff);">
                            
                  <br>
                  <div class="container" data-aos="fade-up" data-aos-delay="100">

                    <div class="row gy-4 posts-list">
            
                      <div class="col-xl-4 col-md-6">
                        <div class="post-item position-relative h-100">
            
                          <div class="post-img position-relative overflow-hidden">
                           
                          <h3 class="post-title">{{ item.membership_year}}</h3>
                          <hr>
                          {% if membership_years %}
                          <!-- <p>membership_years is not empty</p> -->
                          {% for from_date, to_date in membership_years %}
                              <span style="font-weight: bold;text-transform: uppercase;color: rgb(151, 74, 20);"> From date:</span><br> <span style="font-weight: bold;text-transform: uppercase;color: rgb(24, 50, 119);"> {{ from_date|date:"Y M j" }}</span><br>
                              <span style="font-weight: bold;text-transform: uppercase;color: rgb(151, 74, 20);">To date</span><br> <span style="font-weight: bold;text-transform: uppercase;color: rgb(24, 50, 119);">{{ to_date|date:"Y M j" }}</span>
                          {% endfor %}
                      {% else %}
                          <p>membership_years is empty or not available</p>
                      {% endif %}
                      

  <!-- Find the corresponding from_date and to_date from membership_years -->

                          </div>
            <hr>
                          <div class="post-content d-flex flex-column">
                            <p><span style="color: rgb(151, 74, 20); font-weight: bold; text-transform: uppercase;">Member Status:</span><br><span style="color: rgb(24, 50, 119); font-weight: bold; text-transform: uppercase;"> {{ item.usercategory }}</span></p>
                            <hr>
                            <p><span style="color: rgb(151, 74, 20); font-weight: bold; text-transform: uppercase;">Payment Date</span><span style="color: rgb(24, 50, 119); font-weight: bold; text-transform: uppercase;">&nbsp;: {{ item.payment_date}}</span></p>
                            <hr>
                            <p><span style="color: rgb(151, 74, 20); font-weight: bold; text-transform: uppercase;">Amount:</span><span style="color: rgb(24, 50, 119); font-weight: bold; text-transform: uppercase;">&nbsp;K {{ item.amount}}</span></p>
                            <hr>
                        
                          </div>
            
                        </div>
                      </div><!-- End post list item -->
            <hr>
               
                            
                      </div>
                      </div>
                </div>
          
              {% endfor %}
                </div>
            
            </div>
        
    </main>
     <!-- Pagination Controls -->
<!-- Pagination Controls -->
<!-- Pagination Controls -->
<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">next</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>
<!-- ------------------------------endpaginator--------- -->



    </div>

    <script>
      // Get the search input element
      const searchInput = document.getElementById('searchInput');
  
      // Get all the cards containing membership information
      const cards = document.querySelectorAll('.gallery-item');
  
      // Add an event listener for the 'input' event to detect changes in the input field
      searchInput.addEventListener('input', function() {
          // Get the value entered by the user
          const searchText = this.value.trim().toLowerCase();
  
          // Loop through each card
          cards.forEach(card => {
              // Get the text content of each card
              const cardText = card.textContent.toLowerCase();
  
              // If the card contains the search text, display it, otherwise hide it
              if (cardText.includes(searchText)) {
                  card.style.display = '';
              } else {
                  card.style.display = 'none';
              }
          });
      });
  </script>
  
    {% endblock %}    